<!doctype html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>婚礼进行曲</title>

<link rel="stylesheet" type="text/css" href="css-rec/demo.css" />

<!--必要样式-->
<link rel="stylesheet" type="text/css" href="css-rec/style.css" />

<!--[if lt IE 9]>
	<link rel="stylescss-rect" type=css-recxt/css" hcss-rec="css-rec/styleie.css"/>
	<![endif]-->

<script type="text/javascript" src="js-rec/modernizr.custom.11333.js"></script>

</head>
<body>

<div id="ss-links" class="ss-links">
	<a href="#bali">巴黎</a>
	<a href="#yadian">雅典</a>
	<a href="#shengtuo">圣托里尼</a>
	<a href="#mike">米克斯诺</a>
	<a href="#yadian1">雅典</a>
	<a href="#bali1">巴黎</a>
	<a href="#beijing">北京</a>
</div>

<div id="ss-container" class="ss-container">
	<!--巴黎-->
	<div class="ss-row">
		<div class="ss-left">
			<h2 id="bali">希腊-圣托里尼</h2>
		</div>
		<div class="ss-right">
			<h2>2018-婚礼之旅</h2>
		</div>
	</div>
	<div class="ss-row ss-medium">
		<div class="ss-left">
			<a href="#" class="ss-circle ss-circle-1">婚礼</a>
		</div>
		<div class="ss-right">
			<h3>
				<span>第一天： 北京-巴黎 &nbsp;&nbsp;&nbsp;&nbsp; 宿：巴黎 Paris</span>
				<a href="#">行程：乘坐国际航班前往法国首都巴黎，抵达后入住酒店休息</a>
			</h3>
		</div>
	</div>
	<div class="ss-row ss-large">
		<div class="ss-left">
			<h3>
				<span>第二天： 巴黎</span>
				<a href="#">行程：在酒店享用完早餐，再前往卢浮宫（Louvre）,午餐后休息，再前往巴黎圣母院（NotreDamedeParis）-->埃菲尔铁塔（LatourEiffel）
				</a>
			</h3>
		</div>
		<div class="ss-right">
			<a href="#" class="ss-circle ss-circle-2">巴黎</a>
		</div>
	</div>
	<div class="ss-row ss-small">
		<div class="ss-left">
			<a href="#" class="ss-circle ss-circle-3">巴黎圣母院（NotreDamedeParis）</a>
		</div>
		<div class="ss-right">
			<h3>
				<span>第三天： 巴黎</span>
				<a href="#">上午：巴黎圣母院（NotreDamedeParis）</a>
			</h3>
		</div>
	</div>
	<div class="ss-row ss-medium">
		<div class="ss-left">
			<h3>
				<span>第三天：巴黎   宿：雅典</span>
				<a href="#">下午：乘坐国际航班前往希腊首都雅典，抵达后入住酒店休息</a>
			</h3>
		</div>
		<div class="ss-right">
			<a href="#" class="ss-circle ss-circle-4">飞雅典</a>
		</div>
	</div>

<!--雅典-->
	<div class="ss-row">
		<div class="ss-left">
			<h2 id="yadian">雅典</h2>
		</div>
		<div class="ss-right">
			<h2>圣托里尼</h2>
		</div>
	</div>
	<div class="ss-row ss-small">
		<div class="ss-left">
			<h3>
				<span>第四天: 雅典城区</span>
				<a href="#">雅典卫城（Ακρπολη）是希腊最杰出的古建筑群，现存的主要建筑有山门、帕特农神庙、伊瑞克提翁神庙、埃雷赫修神庙</a>
			</h3>
		</div>
		<div class="ss-right">
			<a href="#" class="ss-circle ss-circle-8">雅典城区</a>
		</div>
	</div>
	<div class="ss-row ss-large">
		<div class="ss-left">
			<a href="#" class="ss-circle ss-circle-9">雅典卫城山上顶端的帕特农神庙</a>
		</div>
		<div class="ss-right">
			<h3>
				<span>第四天:帕特农神庙</span>
				<a href="#">雅典卫城山上顶端的帕特农神庙</a>
			</h3>
		</div>
	</div>
	<div class="ss-row ss-medium">
		<div class="ss-left">
			<a href="#" class="ss-circle ss-circle-10">伊瑞克提翁神庙</a>
		</div>
		<div class="ss-right">
			<h3>
				<span>第四天：伊瑞克提翁神庙</span>
				<a href="#">伊瑞克提翁神庙</a>
			</h3>
		</div>
	</div>
	<div class="ss-row ss-large">
		<div class="ss-left">
			<h3>
				<span>第五天：奥林匹亚宙斯神殿</span>
				<a href="#">上午：奥林匹亚宙斯神殿</a>
			</h3>
		</div>
		<div class="ss-right">
			<a href="#" class="ss-circle ss-circle-11">奥林匹亚宙斯神殿</a>
		</div>
	</div>
	<div class="ss-row ss-large">
		<div class="ss-left">
			<a href="#" class="ss-circle ss-circle-14">前往圣托里尼</a>
		</div>
		<div class="ss-right">
			<h3>
				<span>第五天下午：前往圣托里尼</span>
				<a href="#">乘坐游船前往圣托里尼    宿：heliotopos酒店（酒店景致优美）</a>
			</h3>
		</div>
	</div>

<!--圣托里尼-->
	<div class="ss-row">
		<div class="ss-left">
			<h2 id="shengtuo">圣托里尼</h2>
		</div>
		<div class="ss-right">
			<h2>婚礼前序</h2>
		</div>
	</div>
	<div class="ss-row ss-small">
		<div class="ss-left">
			<h3>
				<span>第六天：圣托里尼</span>
				<a href="#">亲友们抵达圣托里尼之后，开始布置场地，准备道具</a>
			</h3>
		</div>
		<div class="ss-right">
			<a href="#" class="ss-circle ss-circle-15">圣托里尼</a>
		</div>
	</div>
	<div class="ss-row ss-medium">
		<div class="ss-left">
			<a href="#" class="ss-circle ss-circle-16">现场道具，气球布置</a>
		</div>
		<div class="ss-right">
			<h3>
				<span>第六日：婚礼前序</span>
				<a href="#">现场道具，气球布置</a>
			</h3>
		</div>
	</div>
	<div class="ss-row ss-large">
		<div class="ss-left">
			<a href="#" class="ss-circle ss-circle-17">新娘新郎以及亲友试装，户外拍摄风景</a>
		</div>
		<div class="ss-right">
			<h3>
				<span>第六日：婚礼前序</span>
				<a href="#">新娘新郎以及亲友试装，户外拍摄风景</a>
			</h3>
		</div>
	</div>
	<div class="ss-row ss-large">
		<div class="ss-left">
			<h3>
				<span>第六日：婚礼前序</span>
				<a href="#">晚餐后调试音响灯光等效果</a>
			</h3>
		</div>
		<div class="ss-right">
			<a href="#" class="ss-circle ss-circle-18">晚餐后调试音响灯光等效果</a>
		</div>
	</div>

	<div class="ss-row">
		<div class="ss-left">
			<h2>圣托里尼</h2>
		</div>
		<div class="ss-right">
			<h2>婚礼开始</h2>
		</div>
	</div>
	<div class="ss-row ss-large">
		<div class="ss-left">
			<h3>
				<span>第七天 ：7:00</span>
				<a href="#">早七点：起床检查设备设施，布置新房，新娘化妆</a>
			</h3>
		</div>
		<div class="ss-right">
			<a href="#" class="ss-circle ss-circle-20">起床检查设备设施，布置新房，新娘化妆</a>
		</div>
	</div>
	<div class="ss-row ss-medium">
		<div class="ss-left">
			<a href="#" class="ss-circle ss-circle-21">整理问题并拿出解决方案</a>
		</div>
		<div class="ss-right">
			<h3>
				<span>第七天 ：7:30</span>
				<a href="#">用餐完毕，检查设备完毕，整理问题并拿出解决方案</a>
			</h3>
		</div>
	</div>
	<div class="ss-row ss-small">
		<div class="ss-left">
			<h3>
				<span>第七天 ：8:30</span>
				<a href="#">新郎走红毯接新娘，朋友嬉闹，礼俗过程</a>
			</h3>
		</div>
		<div class="ss-right">
			<a href="#" class="ss-circle ss-circle-22">新郎走红毯接新娘，朋友嬉闹，礼俗过程</a>
		</div>
	</div>
	<div class="ss-row ss-large">
		<div class="ss-left">
			<a href="#" class="ss-circle ss-circle-23">婚礼开始，有请新娘新郎走进婚姻殿堂</a>
		</div>
		<div class="ss-right">
			<h3>
				<span>第七天 ：10:50</span>
				<a href="#">婚礼开始，有请新娘新郎走进婚姻殿堂</a>
			</h3>
		</div>
	</div>
	<div class="ss-row ss-medium">
		<div class="ss-left">
			<h3>
				<span>第七天 ：12:00</span>
				<a href="#">婚宴开始</a>
			</h3>
		</div>
		<div class="ss-right">
			<a href="#" class="ss-circle ss-circle-24">婚宴开始</a>
		</div>
	</div>

	<div class="ss-row ss-small">
		<div class="ss-left">
			<a href="#" class="ss-circle ss-circle-25">婚礼结束，开始拍摄外景，宾客自由活动</a>
		</div>
		<div class="ss-right">
			<h3>
				<span>第七天 ：13:30</span>
				<a href="#">婚礼结束，开始拍摄外景，宾客自由活动</a>
			</h3>
		</div>
	</div>
	<div class="ss-row ss-large">
		<div class="ss-left">
			<h3>
				<span>第七天 ：18:30</span>
				<a href="#">开始烛光晚餐</a>
			</h3>
		</div>
		<div class="ss-right">
			<a href="#" class="ss-circle ss-circle-26">开始烛光晚餐</a>
		</div>
	</div>
	<div class="ss-row ss-medium">
		<div class="ss-left">
			<a href="#" class="ss-circle ss-circle-27">夜幕party,狂欢到天明，（多项游戏活动，酒吧，网咖，ktv等等）</a>
		</div>
		<div class="ss-right">
			<h3>
				<span>第七天 ：21:00</span>
				<a href="#">夜幕party,狂欢到天明，（多项游戏活动，酒吧，ktv，游艇设配等等）</a>
			</h3>
		</div>
	</div>

	<!--米克托斯-->
	<div class="ss-row">
		<div class="ss-left">
			<h2 id="mike">米克托斯</h2>
		</div>
		<div class="ss-right">
			<h2>圣托里尼-米克托斯</h2>
		</div>
	</div>
	<div class="ss-row ss-medium">
		<div class="ss-left">
			<a href="#" class="ss-circle ss-circle-1">婚礼</a>
		</div>
		<div class="ss-right">
			<h3>
				<span>第八天 下午： 圣托里尼-米克托斯 &nbsp;&nbsp;&nbsp;&nbsp; 宿：米克托斯</span>
				<a href="#">行程：乘坐巴士前往法国首都巴黎，抵达后入住酒店休息</a>
			</h3>
		</div>
	</div>
	<div class="ss-row ss-large">
		<div class="ss-left">
			<h3>
				<span>第八天： 晚上</span>
				<a href="#">夜间的米克托斯简直的人间不一样的烟火，纸醉迷金的生活，绚丽的烟花演出，奇幻的喷泉表演，绝对让您度过一个美妙的夜晚
				</a>
			</h3>
		</div>
		<div class="ss-right">
			<a href="#" class="ss-circle ss-circle-2">米克托斯</a>
		</div>
	</div>

	<!--雅典-->
	<div class="ss-row">
		<div class="ss-left">
			<h2 id="yadian1">雅典</h2>
		</div>
		<div class="ss-right">
			<h2>米克托斯-雅典</h2>
		</div>
	</div>
	<div class="ss-row ss-medium">
		<div class="ss-left">
			<a href="#" class="ss-circle ss-circle-1">雅典</a>
		</div>
		<div class="ss-right">
			<h3>
				<span>第九天： 米克托斯-雅典 &nbsp;&nbsp;&nbsp;&nbsp; 宿：雅典</span>
				<a href="#">行程：乘坐国际航班飞往雅典，抵达后入住酒店休息</a>
			</h3>
		</div>
	</div>
	<div class="ss-row ss-large">
		<div class="ss-left">
			<h3>
				<span>第九天： 晚上</span>
				<a href="#">最著名的是雅典卫城的帕特农神庙，被视为西方文化的象征，畅想星空
				</a>
			</h3>
		</div>
		<div class="ss-right">
			<a href="#" class="ss-circle ss-circle-2">雅典</a>
		</div>
	</div>

	<!--巴黎-->
	<div class="ss-row">
		<div class="ss-left">
			<h2 id="bali1">巴黎</h2>
		</div>
		<div class="ss-right">
			<h2>雅典-巴黎</h2>
		</div>
	</div>
	<div class="ss-row ss-medium">
		<div class="ss-left">
			<a href="#" class="ss-circle ss-circle-8">巴黎</a>
		</div>
		<div class="ss-right">
			<h3>
				<span>第十天： 雅典-巴黎 &nbsp;&nbsp;&nbsp;&nbsp;</span>
				<a href="#">行程：乘坐国际航班飞往巴黎，抵达后入住酒店休息</a>
			</h3>
		</div>
	</div>
	<div class="ss-row ss-large">
		<div class="ss-left">
			<h3>
				<span>第十天： 晚上</span>
				<a href="#">乘坐国际航班飞往北京，结束行程
				</a>
			</h3>
		</div>
		<div class="ss-right">
			<a href="#" class="ss-circle ss-circle-23">雅典</a>
		</div>
	</div>

	<!--北京-->
	<div class="ss-row">
		<div class="ss-left">
			<h2 id="beijing">北京</h2>
		</div>
	</div>
	<div class="ss-row ss-medium">
		<div class="ss-left">
			<a href="#" class="ss-circle ss-circle-29">北京</a>
		</div>
		<div class="ss-right">
			<h3>
				<span>北京，结束行程安排</span>
				<a href="#">行程：安排酒店入住（也可自行休息），完成后期服务，招盘视频的剪辑，尾款缴纳等等。</a>
			</h3>
		</div>
	</div>
</div>

<script type="text/javascript" src="js-rec/jquery.min.js"></script>
<script type="text/javascript" src="js-rec/jquery.easing.1.3.js"></script>
<script type="text/javascript">
$(function() {

	var $sidescroll	= (function() {
			// the row elements
		var $rows			= $('#ss-container > div.ss-row'),
			// we will cache the inviewport rows and the outside viewport rows
			$rowsViewport, $rowsOutViewport,
			// navigation menu links
			$links			= $('#ss-links > a'),
			// the window element
			$win			= $(window),
			// we will store the window sizes here
			winSize			= {},
			// used in the scroll setTimeout function
			anim			= false,
			// page scroll speed
			scollPageSpeed	= 2000 ,
			// page scroll easing
			scollPageEasing = 'easeInOutExpo',
			// perspective?
			hasPerspective	= false,
			
			perspective		= hasPerspective && Modernizr.csstransforms3d,
			// initialize function
			init			= function() {
				
				// get window sizes
				getWinSize();
				// initialize events
				initEvents();
				// define the inviewport selector
				defineViewport();
				// gets the elements that match the previous selector
				setViewportRows();
				// if perspective add css-rec
				if( perspective ) {
					$rows.css({
						'-webkit-perspective'			: 600,
						'-webkit-perspective-origin'	: '50% 0%'
					});
				}
				// show the pointers for the inviewport rows
				$rowsViewport.find('a.ss-circle').addClass('ss-circle-deco');
				// set positions for each row
				placeRows();
				
			},
			// defines a selector that gathers the row elems that are initially visible.
			// the element is visible if its top is less than the window's height.
			// these elements will not be affected when scrolling the page.
			defineViewport	= function() {
			
				$.extend( $.expr[':'], {
				
					inviewport	: function ( el ) {
						if ( $(el).offset().top < winSize.height ) {
							return true;
						}
						return false;
					}
				
				});
			
			},
			// checks which rows are initially visible 
			setViewportRows	= function() {
				
				$rowsViewport 		= $rows.filter(':inviewport');
				$rowsOutViewport	= $rows.not( $rowsViewport )
				
			},
			// get window sizes
			getWinSize		= function() {
			
				winSize.width	= $win.width();
				winSize.height	= $win.height();
			
			},
			// initialize some events
			initEvents		= function() {
				
				// navigation menu links.
				// scroll to the respective section.
				$links.on( 'click.Scrolling', function( event ) {
					
					// scroll to the element that has id = menu's href
					$('html, body').stop().animate({
						scrollTop: $( $(this).attr('href') ).offset().top
					}, scollPageSpeed, scollPageEasing );
					
					return false;
				
				});
				
				$(window).on({
					// on window resize we need to redefine which rows are initially visible (this ones we will not animate).
					'resize.Scrolling' : function( event ) {
						
						// get the window sizes again
						getWinSize();
						// redefine which rows are initially visible (:inviewport)
						setViewportRows();
						// remove pointers for every row
						$rows.find('a.ss-circle').removeClass('ss-circle-deco');
						// show inviewport rows and respective pointers
						$rowsViewport.each( function() {
						
							$(this).find('div.ss-left')
								   .css({ left   : '0%' })
								   .end()
								   .find('div.ss-right')
								   .css({ right  : '0%' })
								   .end()
								   .find('a.ss-circle')
								   .addClass('ss-circle-deco');
						
						});
					
					},
					// when scrolling the page change the position of each row	
					'scroll.Scrolling' : function( event ) {
						
						// set a timeout to avoid that the 
						// placeRows function gets called on every scroll trigger
						if( anim ) return false;
						anim = true;
						setTimeout( function() {
							
							placeRows();
							anim = false;
							
						}, 10 );
					
					}
				});
			
			},
			// sets the position of the rows (left and right row elements).
			// Both of these elements will start with -50% for the left/right (not visible)
			// and this value should be 0% (final position) when the element is on the
			// center of the window.
			placeRows		= function() {
				
					// how much we scrolled so far
				var winscroll	= $win.scrollTop(),
					// the y value for the center of the screen
					winCenter	= winSize.height / 2 + winscroll;
				
				// for every row that is not inviewport
				$rowsOutViewport.each( function(i) {
					
					var $row	= $(this),
						// the left side element
						$rowL	= $row.find('div.ss-left'),
						// the right side element
						$rowR	= $row.find('div.ss-right'),
						// top value
						rowT	= $row.offset().top;
					
					// hide the row if it is under the viewport
					if( rowT > winSize.height + winscroll ) {
						
						if( perspective ) {
						
							$rowL.css({
								'-webkit-transform'	: 'translate3d(-75%, 0, 0) rotateY(-90deg) translate3d(-75%, 0, 0)',
								'opacity'			: 0
							});
							$rowR.css({
								'-webkit-transform'	: 'translate3d(75%, 0, 0) rotateY(90deg) translate3d(75%, 0, 0)',
								'opacity'			: 0
							});
						
						}
						else {
						
							$rowL.css({ left 		: '-50%' });
							$rowR.css({ right 		: '-50%' });
						
						}
						
					}
					// if not, the row should become visible (0% of left/right) as it gets closer to the center of the screen.
					else {
							
							// row's height
						var rowH	= $row.height(),
							// the value on each scrolling step will be proporcional to the distance from the center of the screen to its height
							factor 	= ( ( ( rowT + rowH / 2 ) - winCenter ) / ( winSize.height / 2 + rowH / 2 ) ),
							// value for the left / right of each side of the row.
							// 0% is the limit
							val		= Math.max( factor * 50, 0 );
							
						if( val <= 0 ) {
						
							// when 0% is reached show the pointer for that row
							if( !$row.data('pointer') ) {
							
								$row.data( 'pointer', true );
								$row.find('.ss-circle').addClass('ss-circle-deco');
							
							}
						
						}
						else {
							
							// the pointer should not be shown
							if( $row.data('pointer') ) {
								
								$row.data( 'pointer', false );
								$row.find('.ss-circle').removeClass('ss-circle-deco');
							
							}
							
						}
						
						// set calculated values
						if( perspective ) {
							
							var	t		= Math.max( factor * 75, 0 ),
								r		= Math.max( factor * 90, 0 ),
								o		= Math.min( Math.abs( factor - 1 ), 1 );
							
							$rowL.css({
								'-webkit-transform'	: 'translate3d(-' + t + '%, 0, 0) rotateY(-' + r + 'deg) translate3d(-' + t + '%, 0, 0)',
								'opacity'			: o
							});
							$rowR.css({
								'-webkit-transform'	: 'translate3d(' + t + '%, 0, 0) rotateY(' + r + 'deg) translate3d(' + t + '%, 0, 0)',
								'opacity'			: o
							});
						
						}
						else {
							
							$rowL.css({ left 	: - val + '%' });
							$rowR.css({ right 	: - val + '%' });
							
						}
						
					}	
				
				});
			
			};
		
		return { init : init };
	
	})();
	
	$sidescroll.init();
	
});
</script>
</body>
</html>